<!DOCTYPE html>
<html>
<head>
	<title>Colourful moving text</title>
	<style type="text/css">
		div
		{
			font-size:53px;
			position:fixed;
			white-space:nowrap;
		}
	</style>
	<script type="text/javascript">
		var msg;
		
		var xMax;
		var yMax;
		
		var ctr;
		var ctrMax;
		function init()
		{
			msg = document.getElementById("shakeIt");
			setInterval(changeColour, 42);
			xMax = window.innerWidth;
			yMax = window.innerHeight;
			ctrMax = 2;
			ctr = ctrMax;
			setTimeout(moveDown, 10);
		}
		function changeColour()
		{
			var r = Math.floor(Math.random()*255);
			var g = Math.floor(Math.random()*255);
			var b = Math.floor(Math.random()*255);
			
			msg.style.color = "rgb(" + r + "," + g + "," + b + ")";
		}
		function moveUp()
		{
			if(msg.offsetTop >= 0)
			{
				msg.style.top = (msg.offsetTop - 3) + "px";
				setTimeout(moveUp, 10);
			}
			else
			{
				ctr--;
				if(ctr)
				{
					setTimeout(moveDown, 10);
				}
				else
				{
					ctr = ctrMax;
					setTimeout(moveRight, 10);
				}
				
			}
		}
		function moveDown()
		{
			if((msg.offsetTop + msg.offsetHeight) <= yMax)
			{
				msg.style.top = (msg.offsetTop + 3) + "px";
				setTimeout(moveDown, 10);
			}
			else
			{
				setTimeout(moveUp, 10);
			}
		}
		function moveLeft()
		{
			if(msg.offsetLeft >= 0)
			{
				msg.style.left = (msg.offsetLeft - 3) + "px";
				setTimeout(moveLeft, 10);
			}
			else
			{
				ctr--;
				if(ctr)
				{
					setTimeout(moveRight, 10);
				}
				else
				{
					ctr = ctrMax;
					setTimeout(moveDown, 10);
				}
			}
		}
		function moveRight()
		{
			if((msg.offsetLeft + msg.offsetWidth) <= xMax)
			{
				msg.style.left = (msg.offsetLeft + 3) + "px";
				setTimeout(moveRight, 10);
			}
			else
			{
				setTimeout(moveLeft, 10);
			}
		}
	</script>
</head>
<body onload="init()">
	<div id="shakeIt">I like to move it move it!</div>
</body>
</html>
